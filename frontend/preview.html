<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="color-scheme" content="dark light" />
  <meta name="theme-color" content="#0a1020" />

  <title>ASTRA ‚Ä¢ HIREX ‚Äî Optimized Resume Viewer v2.1.0</title>
  <meta name="description" content="Compare AI-optimized and humanized LaTeX resumes with JD-fit analysis, PDF preview, and download options in HIREX v2.1.0." />
  <meta name="author" content="Sri Akash Kadali" />
  <meta property="og:title" content="ASTRA ‚Ä¢ HIREX Preview v2.1.0 ‚Äî Optimized Resume Viewer" />
  <meta property="og:description" content="Interactive viewer for your AI-optimized & humanized resumes with JD fit score analytics and memory." />
  <meta property="og:image" content="/static/assets/og-preview.png" />
  <meta property="og:type" content="website" />

  <meta http-equiv="Content-Security-Policy"
        content="default-src 'self';
                 img-src 'self' data:;
                 style-src 'self' 'unsafe-inline';
                 script-src 'self' 'unsafe-inline';
                 connect-src 'self' https://api.openai.com http://127.0.0.1:8000;
                 font-src 'self' data:;" />

  <link rel="icon" type="image/png" href="/static/assets/favicon.png" />
  <link rel="preload" href="/static/assets/logo.png" as="image" />
  <link rel="stylesheet" href="/static/css/base.css?v=2.0.0" />
  <link rel="stylesheet" href="/static/css/animations.css?v=2.0.0" />
  <link rel="stylesheet" href="/static/css/app.css?v=2.0.0" />

  <style>
    :root {
      --accent: #5bd0ff;
      --accent2: #9f78ff;
      --bg: #0a1020;
      --muted: rgba(255,255,255,0.7);
      --panel: rgba(255,255,255,0.05);
      --glow: 0 0 25px rgba(91,208,255,0.25);
    }

    /* ===== Futuristic Background ===== */
    body {
      background: radial-gradient(circle at 25% 20%, #0a1020 0%, #03060f 80%) fixed;
      color: #e4ecff;
      font-family: "Inter","Segoe UI",Roboto,sans-serif;
      line-height: 1.6;
      overflow-x: hidden;
      position: relative;
      margin: 0;
    }
    /* unify selection color (blue) */
    ::selection { background: var(--accent); color: #000; }

    body::before {
      content: "";
      position: fixed;
      inset: 0;
      background:
        repeating-linear-gradient(to right, rgba(255,255,255,0.03) 0 1px, transparent 1px 80px),
        repeating-linear-gradient(to bottom, rgba(255,255,255,0.03) 0 1px, transparent 1px 80px);
      pointer-events: none;
      z-index: 0;
    }
    body::after {
      content: "";
      position: fixed;
      width: 450px;
      height: 450px;
      background: radial-gradient(circle, rgba(91,208,255,0.15), transparent 70%);
      top: 25%;
      right: 10%;
      filter: blur(70px);
      animation: floatGlow 12s ease-in-out infinite alternate;
      z-index: 0;
      pointer-events: none;
    }
    @keyframes floatGlow {
      from { transform: translateY(0) scale(1); opacity: 0.9; }
      to   { transform: translateY(-30px) scale(1.05); opacity: 0.7; }
    }

    /* ===== Hide header toggles if injected ===== */
    .menu-toggle, .theme-toggle { display: none !important; }

    /* ===== Sidebar ===== */
    .sidebar{
      display:flex;
      flex-direction:column;
      padding-top:.25rem; /* reduce top whitespace */
    }
    @media (min-width: 880px) {
      .sidebar {
        position: fixed;
        top: 0; left: 0;
        width: 240px; height: 100vh;
        background: rgba(10,16,32,0.65);
        border-right: 1px solid rgba(255,255,255,0.05);
        backdrop-filter: blur(18px);
        z-index: 5;
      }
      main.console, footer { margin-left: 240px; }
    }
    @media (max-width: 879px) {
      .sidebar {
        position: fixed;
        left: -100%; top: 0;
        width: 70%; height: 100vh;
        background: rgba(10,16,32,0.95);
        transition: transform 0.3s ease;
        z-index: 20;
      }
      body.nav-open .sidebar { transform: translateX(100%); }
    }

    /* Brand: bigger, non-stretched logo; nav moved up */
    .brand {
      display: flex; align-items: center; gap: .75rem;
      padding: .6rem 1rem .05rem; /* tighter bottom padding lifts nav */
    }
    .brand img {
      width: 72px;                 /* larger logo */
      height: auto;                /* keep aspect ratio */
      aspect-ratio: 1 / 1;         /* consistent box */
      object-fit: contain;         /* prevent distortion */
      filter: drop-shadow(0 0 6px rgba(91,208,255,0.6));
      transition: transform .25s ease, filter .25s ease;
    }
    .brand img:hover { transform: scale(1.05); filter: drop-shadow(0 0 12px rgba(91,208,255,0.9)); }
    .logo-text {
      background: linear-gradient(90deg,var(--accent),var(--accent2));
      -webkit-background-clip: text; background-clip: text;
      color: transparent;
      font-weight: 700; font-size: 1.35rem;
    }

    .vnav { list-style: none; padding: 0; margin: .05rem 1rem 1rem; } /* moved up */
    .vnav li { margin-bottom: .42rem; }
    .vnav a {
      color: #cfd9ff; text-decoration: none;
      display: block; padding: 0.6rem 1rem;
      border-radius: 10px; transition: background 0.2s, color 0.2s;
    }
    .vnav a:hover, .vnav a.active-link {
      background: rgba(91,208,255,0.15); color: var(--accent);
    }

    /* Pin CTA to bottom so it doesn't push nav down */
    .sidebar .cta-primary {
      display: block;
      margin: 1rem;
      margin-top: auto; /* stick to bottom */
      width: calc(100% - 2rem);
      background: linear-gradient(90deg,var(--accent),var(--accent2));
      color: #fff; border: none;
      border-radius: 10px; padding: 0.6rem;
      font-weight: 600; cursor: pointer;
      transition: transform .25s ease;
    }
    .sidebar .cta-primary:hover { transform: translateY(-2px); }

    /* ===== Main ===== */
    main.console {
      position: relative;
      z-index: 2;
      padding: 3rem 3rem 5rem;
      animation: fadeRise 1s ease;
    }
    h1 {
      font-size: 2.2rem; font-weight: 700;
      background: linear-gradient(90deg,var(--accent),var(--accent2));
      -webkit-background-clip: text; background-clip: text; color: transparent;
    }

    /* ===== Fit Score ===== */
    #fit-score-card {
      background: rgba(255,255,255,0.04);
      border: 1px solid rgba(255,255,255,0.1);
      border-radius: 14px;
      padding: 1rem 1.25rem;
      min-width: 220px;
      text-align: center;
      box-shadow: var(--glow);
      transition: transform .25s ease;
    }
    #fit-score-card:hover { transform: translateY(-3px); }

    .fit-circle {
      width: 100px; height: 100px; border-radius: 50%;
      border: 4px solid var(--accent);
      margin: 0 auto .75rem; position: relative;
    }
    .fit-circle::after {
      content: attr(data-score) "%";
      position: absolute; top: 50%; left: 50%;
      transform: translate(-50%,-50%);
      font-size: 1.3rem; font-weight: 700;
    }

    /* ===== PDF Viewer ===== */
    #pdf-container {
      display: flex; flex-direction: column;
      align-items: center; gap: 3rem; width: 100%;
    }
    .pdf-card {
      width: 100%; max-width: 1200px;
      background: rgba(255,255,255,0.03);
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: 12px; padding: 1.25rem;
      box-shadow: var(--glow);
      transition: transform .25s, box-shadow .25s;
    }
    .pdf-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 0 40px rgba(91,208,255,0.25);
    }
    .pdf-frame iframe {
      width: 100%; height: 88vh; border: none; border-radius: 12px;
      background: #0e1428;
    }

    #tex-output {
      white-space: pre-wrap; color: #dfe7ff;
      font-family: "Fira Code", monospace;
      font-size: .9rem; line-height: 1.6;
      background: rgba(10,16,32,0.85);
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: 8px;
      padding: 1rem;
      box-shadow: 0 0 20px rgba(91,208,255,0.1);
      overflow-x: auto;
      max-height: 80vh;
    }

    footer {
      text-align: center;
      padding: 2rem 1rem;
      font-size: 0.9rem;
      color: #9aa7cc;
      border-top: 1px solid rgba(255,255,255,0.05);
      backdrop-filter: blur(10px);
    }

    @keyframes fadeRise {
      from { opacity: 0; transform: translateY(25px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    /* Responsive brand tweaks */
    @media (max-width:880px){
      .brand{ padding:.5rem 1rem .04rem; }
      .brand img{ width:60px; }
      .logo-text{ font-size:1.2rem; }
      .vnav{ margin:.02rem 1rem 1rem; }
    }
  </style>
</head>

<body class="page-enter" data-app="hirex">
  <!-- Sidebar -->
  <aside class="sidebar" id="sidebar" role="navigation" aria-label="Primary">
    <div class="brand">
      <img src="/static/assets/logo.png" alt="ASTRA Logo" />
      <span class="logo-text">ASTRA</span>
    </div>
    <ul class="vnav">
      <li><a href="/index.html">üè† HIREX</a></li>
      <li><a href="/preview.html" class="active-link" aria-current="page">üìÑ HIREX Preview</a></li>
      <li><a href="/coverletter.html">‚úâÔ∏è HIREX Letter</a></li>
      <li><a href="/talk.html">üí¨ Talk to HIREX</a></li>
      <li><a href="/mastermind.html">üß† MasterMind</a></li>
      <li><a href="/superhuman.html">‚ú® SuperHuman</a></li>
      <li><a href="/dashboard.html">üìä Dashboard</a></li>
      <li><a href="/genie.html">üßû Genie</a></li>
    </ul>
    <button class="cta-primary" onclick="window.location.href='/index.html'">üöÄ Optimize Again</button>
  </aside>

  <!-- Main -->
  <main class="console" id="content" role="main">
    <div class="main-inner">
      <div class="header-row anim rise" style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;margin-bottom:2rem;">
        <h1>Optimized Resume Preview</h1>
        <div id="fit-score-card" class="anim fade" aria-live="polite">
          <div class="fit-circle" id="fitCircle" data-score="--"></div>
          <h2>üéØ JD Fit Score</h2>
          <p>Rounds: <span id="fit-rounds">--</span></p>
          <p id="fit-tier">Awaiting Analysis‚Ä¶</p>
        </div>
      </div>

      <p class="muted">
        Review your <strong>AI-optimized</strong> and <strong>humanized</strong> resumes side by side.
        Compare outputs, verify JD-fit metrics, and download or copy your LaTeX source.
      </p>

      <section id="pdf-section" class="anim fade" aria-labelledby="pdf-viewer-title">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;">
          <h2 id="pdf-viewer-title">üìÑ Resume PDF Viewer</h2>
          <button id="refresh-pdfs" class="btn accent" type="button">‚Üª Refresh PDFs</button>
        </div>
        <div id="pdf-container">
          <p style="color:#bbb;text-align:center;">Loading your latest optimized resumes‚Ä¶</p>
        </div>
      </section>

      <section id="latex-section" class="anim rise" aria-labelledby="latex-output-title">
        <h2 id="latex-output-title">üß† Optimized LaTeX Output</h2>
        <pre id="tex-output">% Your optimized LaTeX will appear here...</pre>
        <div style="margin-top:1rem;display:flex;gap:.75rem;flex-wrap:wrap;">
          <button id="download-tex" class="btn accent" type="button">‚¨áÔ∏è Download .tex</button>
          <button id="copy-tex" class="btn" type="button">üìã Copy Code</button>
        </div>
      </section>
    </div>
  </main>

  <footer>
    &copy; 2025 <strong>ASTRA</strong> ‚Äî Developed by <strong>Sri Akash Kadali</strong> |
    Powered by <strong>FastAPI</strong> + <strong>OpenAI</strong> + <strong>LaTeX</strong> |
    <a href="https://github.com/Akash-Kadali" target="_blank" rel="noopener">GitHub</a>
  </footer>

  <!-- Scripts -->
  <div id="toast" role="status" aria-live="polite"></div>
  <script src="/static/js/util.js?v=2.0.0" defer></script>
  <script src="/static/js/ui.js?v=2.0.0" defer></script>
  <script src="/static/js/preview.js?v=2.1.0" defer></script>
</body>
</html>
