<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="color-scheme" content="dark light" />
  <meta name="theme-color" content="#0a1020" />
  <title>MasterMind | ASTRA ‚Äî Standalone Assistant v2.0.0</title>
  <meta name="description" content="MasterMind ‚Äî a standalone ChatGPT-class assistant for research, coding, writing, and brainstorming." />
  <meta name="author" content="Sri Akash Kadali" />

  <link rel="icon" type="image/png" href="/static/assets/favicon.png" />
  <link rel="stylesheet" href="/static/css/base.css?v=2.0.0" />
  <link rel="stylesheet" href="/static/css/animations.css?v=2.0.0" />
  <link rel="stylesheet" href="/static/css/app.css?v=2.0.0" />

  <style>
    :root{
      --bg:#0a1020;
      --panel:#101622;
      --muted:rgba(255,255,255,0.70);
      --accent:#5bd0ff;
      --accent2:#a678ff;
      --radius:12px;
      --maxw:780px;
    }

    body{
      margin:0; background:var(--bg); color:#e6ecff;
      font-family:"Inter","Segoe UI",system-ui,Roboto,sans-serif;
      -webkit-font-smoothing:antialiased; overflow-x:hidden; line-height:1.6;
      isolation:isolate; min-height:100vh;
    }
    ::selection{ background:var(--accent); color:#000; }
    .menu-toggle,.theme-toggle{ display:none !important; }
    .bg-boxes{ display:none !important; }

    .gpt-bg{
      position:fixed; inset:0; z-index:-1; pointer-events:none;
      background:
        radial-gradient(1200px 600px at 50% 0%, rgba(255,255,255,0.06), transparent 70%),
        radial-gradient(900px 500px at 50% 100%, rgba(255,255,255,0.04), transparent 70%),
        linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0) 35%, rgba(255,255,255,0.02));
    }
    @media (max-width: 900px){
      .gpt-bg{
        background:
          radial-gradient(900px 450px at 50% 0%, rgba(255,255,255,0.06), transparent 70%),
          radial-gradient(680px 380px at 50% 100%, rgba(255,255,255,0.04), transparent 70%),
          linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0) 35%, rgba(255,255,255,0.02));
      }
    }

    .sidebar{
      display:flex; flex-direction:column; padding-top:.25rem;
      position:fixed; top:0; left:0; width:240px; height:100vh;
      background:#0d1320cc; backdrop-filter:blur(16px);
      border-right:1px solid rgba(255,255,255,0.06); z-index:2;
    }
    @media(max-width:879px){
      .sidebar{left:-100%; width:70%; transition:transform .3s ease}
      body.nav-open .sidebar{transform:translateX(100%)}
    }
    .brand{display:flex; align-items:center; gap:.75rem; padding:.6rem 1rem .05rem}
    .brand img{width:72px; height:auto; aspect-ratio:1/1; object-fit:contain; filter:drop-shadow(0 0 6px rgba(91,208,255,.6)); transition:transform .25s, filter .25s}
    .brand img:hover{transform:scale(1.05); filter:drop-shadow(0 0 12px rgba(91,208,255,.9))}
    .logo-text{background:linear-gradient(90deg,var(--accent),var(--accent2)); -webkit-background-clip:text; background-clip:text; color:transparent; font-weight:700; font-size:1.35rem; letter-spacing:.3px}
    .vnav{list-style:none; padding:0; margin:.05rem 1rem 1rem}
    .vnav li{margin-bottom:.42rem}
    .vnav a{display:block; padding:.6rem 1rem; color:#cfd9ff; text-decoration:none; border-radius:10px; transition:background .2s,color .2s}
    .vnav a:hover,.vnav a.active-link{background:rgba(91,208,255,.15); color:var(--accent)}

    main.console{
      display:block !important; position:relative; z-index:1;
      margin-left:240px; min-height:100vh;
      padding:24px 24px 140px;
    }
    @media(max-width:879px){ main.console{margin-left:0; padding:20px 16px 140px} }

    .topbar{
      width:100%; max-width:var(--maxw); margin-inline:auto;
      display:flex; gap:8px; align-items:center; justify-content:flex-end; flex-wrap:wrap;
      position:sticky; top:0; z-index:1; backdrop-filter: blur(8px);
    }
    .topbar select, .topbar button{
      height:36px; border-radius:10px; border:1px solid rgba(255,255,255,.12);
      background:#0f1628; color:#eaf0ff; padding:0 10px; font-size:13px;
    }
    .topbar .btn{background:var(--accent); color:#0a1020; border:none; font-weight:600; cursor:pointer}
    .topbar .btn:hover{background:#72d7ff}

    .header-note{
      width:100%; max-width:var(--maxw); margin:0 auto 8px; color:var(--muted); font-size:.95rem; text-align:center;
    }

    /* Chat stream container expected by mastermind.js */
    .chat-stream{ display:block !important; width:100%; max-width:var(--maxw); margin-inline:auto; }

    /* Messages rendered by mastermind.js (.msg user|bot) */
    .msg{ background:#0f1524; border:1px solid rgba(255,255,255,.08); border-radius:12px; padding:12px 14px; color:#e8eeff; font-size:14px; line-height:1.55; margin:10px 0; }
    .msg.user{ background:#0e1a2e; }
    .msg.typing{ opacity:.85; font-style:italic; }

    .composer{
      position:sticky; bottom:0; left:0; right:0;
      margin-top:24px; padding:12px 0 20px; backdrop-filter: blur(8px);
    }
    .composer .bar{
      width:100%; max-width:var(--maxw); margin-inline:auto;
      background:#0f1628; border:1px solid rgba(255,255,255,.12);
      border-radius:16px; padding:10px; display:flex; gap:10px;
      box-shadow: 0 6px 28px rgba(0,0,0,0.25);
    }
    .composer textarea{
      flex:1; min-height:52px; max-height:240px; resize:vertical;
      background:transparent; border:none; outline:none;
      color:#eaf0ff; font-size:14px; line-height:1.45;
    }
    .composer .send{
      border:none; border-radius:12px; padding:0 14px;
      background:var(--accent); color:#0a1020; font-weight:700; cursor:pointer;
      height:40px; align-self:flex-end;
    }
    .composer .send:hover{ background:#72d7ff; }
    .composer .hint{ width:100%; max-width:var(--maxw); margin:6px auto 0; color:var(--muted); font-size:12px; text-align:center; }

    .vnav a:focus, .send:focus, select:focus, textarea:focus { outline:2px solid var(--accent); outline-offset:2px; }
    .page-enter{opacity:0; animation:fadeIn .45s ease .05s forwards}
    @keyframes fadeIn{to{opacity:1}}
  </style>
</head>

<body class="page-enter" data-app="astra">
  <div class="gpt-bg" aria-hidden="true"></div>

  <!-- Sidebar -->
  <aside class="sidebar" id="sidebar" role="navigation" aria-label="Primary">
    <div class="brand">
      <img src="/static/assets/logo.png" alt="ASTRA Logo" />
      <span class="logo-text">ASTRA</span>
    </div>
    <ul class="vnav">
      <li><a href="/index.html">üè† HIREX</a></li>
      <li><a href="/preview.html">üìÑ HIREX Preview</a></li>
      <li><a href="/coverletter.html">‚úâÔ∏è HIREX Letter</a></li>
      <li><a href="/talk.html">üí¨ Talk to HIREX</a></li>
      <li><a href="/mastermind.html" class="active-link" aria-current="page">üß† MasterMind</a></li>
      <li><a href="/superhuman.html">‚ú® SuperHuman</a></li>
      <li><a href="/dashboard.html">üìä Dashboard</a></li>
      <li><a href="/genie.html">üßû Genie</a></li>
    </ul>
  </aside>

  <!-- Main ChatGPT-like layout -->
  <main id="content" class="console" role="main">
    <div class="topbar" role="toolbar" aria-label="Chat settings">
      <select id="persona" aria-label="Assistant persona">
        <option value="General" selected>General</option>
        <option value="Researcher">Researcher</option>
        <option value="CodeHelper">Code Helper</option>
        <option value="DataAnalyst">Data Analyst</option>
        <option value="Writer">Writer</option>
      </select>
      <select id="model" aria-label="Model selection">
        <option value="gpt-4o-mini" selected>gpt-4o-mini</option>
        <option value="gpt-4o">gpt-4o</option>
      </select>
      <button id="new_session" class="btn" type="button">+ New chat</button>
    </div>

    <p class="header-note">MasterMind ‚Ä¢ Ask anything ‚Äî research, code, writing, strategy.</p>

    <!-- IMPORTANT: mastermind.js expects #chat_box -->
    <div id="chat_box" class="chat-stream" aria-live="polite">
      <div class="msg bot">Hi, I‚Äôm MasterMind! Pick a persona above or just start chatting.</div>
    </div>

    <div class="composer" role="region" aria-label="Message composer">
      <div class="bar">
        <textarea id="chat_input" placeholder="Message MasterMind‚Ä¶" aria-label="Message input"></textarea>
        <button id="send_btn" class="send" type="button">Send</button>
      </div>
      <div class="hint">Tip: Press Ctrl+Enter to send, or click Send.</div>
    </div>
  </main>

  <!-- Load order matters: util -> ui -> mastermind -->
  <script src="/static/js/util.js?v=2.0.0" defer></script>
  <script src="/static/js/ui.js?v=2.0.0" defer></script>
  <script src="/static/js/mastermind.js?v=2.0.0" defer></script>

  <!-- Minimal logger (no extra handlers here) -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      (window.ASTRA ?? window.HIREX)?.debugLog?.('MASTERMIND PAGE LOADED', { version: 'v2.0.0' });
    });
  </script>
</body>
</html>
